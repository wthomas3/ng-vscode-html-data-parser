# Angular Custom HTML Data Parser for Visual Studio Code

VS Code has the capability to load custom web component information into the HTML language services. These language services provide the IntelliSense we use everyday for code completion and functionality discovery. Imagine creating a set of directives and components within an Angular application and seeing those components within VS Code's own code hints.

Well now you can do just that.

This small library can read your Angular application source directory for components and directives and generate this custom HTML data for VS Code to consume.

Add it to your build pipelines to keep your data up-to-date. Build extensions for your teams to use and provide built-in documentation around your organization's component system. Include it with your npm packages to enable your end users to keep coding without having to go back to the external documentation.

### Disclaimer

This is still a work in progress and new features will be added as necessary. Feel free to use this project however you'd like, just please be sure to give acknowledgement where applicable.

### Usage

Generating custom HTML data for VS Code is as simple as:

```bash
npx @wthomas/ng-vscode-html-data-parser
```

The default behavior will look for any `*.ts` within your package directory and attempt to generate custom HTML data from any components or directives found.

#### Command Line Options

This library also supports some flags to help provide all of the functionality you need:

[`--d`, `--dest`] `{outputLocation}`

This option will set the output location and filename for the custom HTML data file that's generated by this library.

By default, this is a file named "custom-html-data.json" in the package directory.

_Example_

This will write the custom HTML data file to the package directory with the name "my-custom-html-data.json":

```bash
npx @wthomas/ng-vscode-html-data-parser --dest my-custom-html-data.json
```

[`--f`, `--files`] `{filePattern}`

This option will tell the library where to find the Angular component files. This should be in the glob pattern format.

By default, this is all TypeScript files found from the root package directory (e.g.: `**/*.ts`);

__Example__

This will chose all TypeScript files found in the "src" directory:

```bash
npx @wthomas/ng-vscode-html-data-parser --files src/**/*.ts
```

#### Config file

This library supports a separate config file called `.ng-html-data.json`, which can be used to provide the same functionality available in the command line options. Simply create the `json` file and fill it with the configuration values necessary:

__Example__

```json
{
  "dest": "my-custom-html-data.json",
  "files": "src/**/*.ts"
}
```

### Setting up VS Code for Custom HTML Data

Setting up VS Code to use the output files from this library is very easy. Simply open up your folder or workspace settings and add this file to the `html.customData` setting. You may need to reload VS Code for your changes to take place.

More information on how to set this up can be found here:
[Custom Data for HTML Language Service](https://github.com/microsoft/vscode-html-languageservice/blob/main/docs/customData.md)

### TODO

* Support global attributes provided by Angular attribute directives (e.g.: [required])
* Support element specific attributes provided by Angular attribute directives (e.g.: input[required])
* Support custom description formatters

### References

* [VS Code Custom Data Overview](https://github.com/microsoft/vscode-custom-data)
* [VS Code Custom Data for HTML Language Service](https://github.com/microsoft/vscode-html-languageservice/blob/main/docs/customData.md)
* [VS Code Custom Data Schema](https://github.com/microsoft/vscode-html-languageservice/blob/main/docs/customData.schema.json)
* [Full VS Code HTML Language Type Definition](https://github.com/microsoft/vscode-html-languageservice/blob/main/src/htmlLanguageTypes.ts)
